<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <style type="text/css">
    #box1 {
      width: 200px;
      height: 200px;
      background-color: skyblue;
      border: 1px solid black;
    }
  </style>
</head>

<body>
  <button id="btn">点一下</button>

  <div id="box1">

  </div>
</body>
<script type="text/javascript">

  let obj = {
    name: 'hello',
    hobby: {
      a: 'eat meat',
      b: 'play'
    },
    friend: ['李华', 'jack', 'Tom']
  }
  let parent = {
    name1: 'parent'
  }
  Object.setPrototypeOf(obj, parent)//设置hd的原型是parent

  /**
   * @param {Object} startObj 要拷贝的对象
   * @param {*} endobj
   * @returns
   */
  function deepClone(startObj, endobj) {
    if (typeof startObj != 'object' || startObj == null) {
      return startObj
    }
    var obj = endobj || {}
    for (var i in startObj) {
      if (startObj.hasOwnProperty(i)) { //保证i不是原型的属性
        if (typeof startObj[i] === 'object') {
          obj[i] = startObj[i].constructor === Array ? [] : {} // 再次判断其构造函数是数组的构造函数还是对象的构造函数
          deepClone(startObj[i], obj[i])
        } else {
          obj[i] = startObj[i]
        }
      }
    }
    return obj


  }
  let objCopy = deepClone(obj)
  objCopy.hobby.a = '哈哈哈哈哈哈哈哈'
  console.log('objCopy', objCopy)
  console.log('obj', obj)


</script>

</html>